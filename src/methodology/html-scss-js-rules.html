{% include "header.html" %}

<main class="container-md py-5 mb-5">
  <div class="row">
    <div class="col-lg-10 mx-auto">
      
      <h1 class="display-4 mb-4">Code Rules & Best Practices</h1>
      
      <p class="lead">Guidelines for writing HTML, SCSS, CSS, and JavaScript in this project.</p>

      <hr class="my-5">

      <section class="mb-5">
        <h2>HTML Rules</h2>
        
        <ul>
          <li><strong>Use Bootstrap classes</strong> for layout and components</li>
          <li><strong>Add custom classes only for unique styling</strong> (e.g., <code>.btn-brand</code>)</li>
          <li><strong>Include partials</strong> using Eleventy syntax:
            <pre><code>{% include "header.html" %}</code></pre>
          </li>
          <li><strong>Keep markup clean:</strong> No inline styles or scripts</li>
          <li><strong>Use semantic HTML:</strong> <code>&lt;header&gt;</code>, <code>&lt;main&gt;</code>, <code>&lt;article&gt;</code>, <code>&lt;nav&gt;</code>, etc.</li>
          <li><strong>Always include alt text</strong> on images for accessibility</li>
          <li><strong>Mockups Exception:</strong> Experimental components can use <code>&lt;style&gt;</code> tags directly in mockup HTML files. Centralize styles in a <code>&lt;style&gt;</code> block at the top (not inline). Once finalized, move styles to dedicated SCSS files</li>
        </ul>
      </section>

      <section class="mb-5">
        <h2>SCSS/CSS Rules</h2>
        
        <ul>
          <li><strong>Use SCSS variables</strong> for colors, spacing, etc. Never hardcode values</li>
          <li><strong>Avoid <code>!important</code></strong> unless absolutely necessary</li>
          <li><strong>Define variables in <code>_variables.scss</code>:</strong>
            <pre><code>$primary: #800000; // Brand color
$spacing-unit: 1rem;</code></pre>
          </li>
          <li><strong>Follow BEM conventions</strong> for custom components (see <a href="{{ '/methodology/naming-conventions/' | url }}">Naming Conventions</a>)</li>
          <li><strong>Use Bootstrap utilities</strong> for common patterns instead of custom CSS</li>
          <li><strong>Create one component file per component:</strong> <code>src/styles/components/_component-name.scss</code></li>
          <li><strong>Import all files in <code>src/styles/main.scss</code></strong> to ensure compilation</li>
        </ul>
      </section>

      <section class="mb-5">
        <h2>JavaScript Rules</h2>
        
        <p><strong>Minimize custom JavaScript.</strong> Only use JavaScript for:</p>
        <ul>
          <li><strong>Initializing Bootstrap components</strong> (dropdowns, modals, etc.) via data attributes</li>
          <li><strong>Build-time tasks</strong> (e.g., Eleventy plugins)</li>
          <li><strong>When no alternative exists</strong> for critical functionality</li>
        </ul>
        <p class="alert alert-info"><strong>Best Practice:</strong> Bootstrap components typically work with just HTML data attributes—no custom JS needed.</p>
      </section>

      <section class="mb-5">
        <h2>Bootstrap Customization</h2>
        
        <div class="mb-4">
          <h3>Overriding Variables</h3>
          <p>Edit <code>src/styles/_variables.scss</code> to customize Bootstrap:</p>
          <pre><code>$primary: #800000; // Brand color
$secondary: #737373;
$body-bg: #ffffff;
$font-family-base: 'UChicago Sans Serif';</code></pre>
        </div>

        <div class="mb-4">
          <h3>Extending Classes</h3>
          <p>Extend Bootstrap classes instead of overriding them:</p>
          <pre><code>.btn-brand {
  @extend .btn-primary;
  background-color: $primary;
  font-weight: 600;
}</code></pre>
        </div>

        <div class="mb-4">
          <h3>Selective Imports</h3>
          <p>You can import only the Bootstrap modules you need in <code>main.scss</code>. See <a href="https://getbootstrap.com/docs/5.3/customize/overview/" target="_blank">Bootstrap's documentation</a> for the complete list of modules.</p>
        </div>
      </section>

      <section class="mb-5">
        <h2>SCSS Structure</h2>
        
        <pre><code>src/styles/
├── _variables.scss        # Bootstrap overrides + custom tokens
├── main.scss              # Entry point (imports all files in order)
└── base/
    ├── _global.scss       # Global element overrides
    └── layout/
        └── _layout.scss   # Layout utilities and spacing
└── components/
    ├── _header.scss       # Header component styles
    ├── _footer.scss       # Footer component styles
    └── _*.scss            # One file per custom component</code></pre>

        <h3>Import Order in main.scss</h3>
        <ol>
          <li>Bootstrap functions</li>
          <li>Custom variables</li>
          <li>Bootstrap variables</li>
          <li>Bootstrap (or selective modules)</li>
          <li>Base styles (global, layout)</li>
          <li>Component styles</li>
        </ol>
      </section>

      <section class="mb-5">
        <h2>Performance Considerations</h2>
        
        <ul>
          <li><strong>Minimize HTTP requests:</strong> Use CSS instead of images where possible</li>
          <li><strong>Compress images:</strong> Use optimized image formats (WebP, AVIF)</li>
          <li><strong>Minify CSS:</strong> The build process handles this automatically with <code>npm run prod</code></li>
          <li><strong>Use system fonts when possible</strong> to avoid web font requests</li>
          <li><strong>Lazy-load images:</strong> Add <code>loading="lazy"</code> to images below the fold</li>
        </ul>
      </section>

      <section class="mb-5">
        <h2>Future-Proofing</h2>
        
        <ul>
          <li><strong>Avoid adding new libraries</strong> unless absolutely necessary</li>
          <li><strong>Keep components modular</strong> so they can be copied into other projects</li>
          <li><strong>Document your code</strong> with comments explaining why, not what</li>
          <li><strong>Test edge cases</strong> and different screen sizes</li>
        </ul>
      </section>

      <section class="mb-5">
        <h2>Resources</h2>
        <ul>
          <li><a href="https://getbootstrap.com/docs/5.3/" target="_blank">Bootstrap 5 Documentation</a></li>
          <li><a href="https://sass-lang.com/documentation" target="_blank">Sass Documentation</a></li>
          <li><a href="{{ '/methodology/naming-conventions/' | url }}">BEM Naming Convention</a></li>
          <li><a href="{{ '/methodology/bootstrap-customization/' | url }}">Bootstrap Customization Guide</a></li>
        </ul>
      </section>

    </div>
  </div>
</main>

{% include "footer.html" %}
